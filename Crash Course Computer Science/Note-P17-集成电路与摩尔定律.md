# P17 集成电路与摩尔定律 - Integrated Circuits & Moores'Law

为了满足前述计算机编程的各种需求，计算机硬件一直在飞速发展。

## 分立元件

大约在1940年-1960年，计算机都由独立部件组成，称为“分立元件”(Discrete Components)，也即每个元件仅包含一个电路元件，然后将不同的组件通过线连接在一起。

如**ENIAC**(见P02)有1万7千多个真空管，7万多个电阻，1万个电容，7千个二极管，5百万个手工焊点，结构非常复杂，如果要实现更多功能，只能增加更多元器件，机构更加复杂，导致问题叫做“数字暴政”(Tyranny of Number)。

在1950年代中期，晶体管商业化并应用于计算机中，相较电子管更佳小型稳定，但依然是分立元件。1959年，IBM将709计算机全部由电子管换为晶体管，诞生IBM7090，速度快6倍，价格便宜一半。晶体管标志着计算2.0时代的到来。但是仍然无法解决数字暴政的问题。

在1960年代，这个问题严重性到达顶点，电脑内部充满缠绕的电线。

![20240129182340](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129182340.png)

在1958年，数字暴政的问题取得了突破性进展，在德州仪器厂工作的Jack Killby，使用锗，演示了将电路所有组件集成在一起的电子部件，相较于直接用每个基础的独立组件直接组装为计算机，可以先将部分组件包在一起，变成一个新的独立组件，也即“集成电路”(Intergrated Circuits, IC)

## 集成电路

1959年，Robert Noyce的仙童半导体，让集成电路变成现实，相较稀少且不稳定的锗，仙童半导体使用更佳丰富且稳定的硅生产集成电路。Noyce被认为是现代集成电路之父，开创了电子时代，创造了硅谷。后续许多半导体公司也创立在这里。

![simple circuits](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129183245.png)

初期的集成电路非常简单，可能仅包含了几个晶体管，尽管如此，也可以将简单电路，如P03中的逻辑门，封装为单独组件。像积木一样，进一步连起来创造更复杂的计算机电路。

### 印刷电路板

在上述基础上，工程师进一步创新了“印刷电路板”(Printed Circuit Boards, PCB)，可以通过刻蚀金属线的方式，将零件连接在一起，无需使用一堆线焊接，方便大规模生产。

![PCB](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129183656.png)

将PCB与IC结合，可以生产更小，更便宜更可靠的电子器件。

## 光刻

在早期，IC虽然已经将分立元件设计的很小，但一个独立单元仍然难以封装很多晶体管，因而诞生了全新的制作工艺“光刻”(Photolithography)。

光刻简单来讲是使用光将复杂图案印到如半导体的材料上。通过几个简单操作，就可以制作出复杂电路。以下使用双极型晶体管的制作为例，来介绍这几个操作：

![Bipolar Junction Transistor](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129184832.png)

### 晶圆

晶圆(Wafer)是薄薄的一片硅，如P02所述，硅是一种半导体，可以控制其导电性，因此，可以用晶圆做基础，将复杂的金属电路放上以集成所有东西。

### 氧化层

氧化层是硅片顶部薄薄的氧化层，作为保护层存在。

### 光刻胶

光刻胶(Photoresist)是一种特殊的化学品，它被光照射后会变得可溶，可以被特殊化学试剂洗掉。

### 光掩模

光掩模(Photomask)就像胶片一样，可以印刷要转移在晶圆上的电路图.将光掩模覆盖在晶圆上，使用强光照射，被遮挡的地方，光刻胶不会变化，照射到的敌方，光刻胶可发生化学变化，被洗掉露出氧化层。

![Photomask](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129185501.png)

用酸将光刻胶下露出的氧化层洗掉后，可以露出硅层，再用其他化学品清理剩余光刻胶后，留下的就是刻有图案的氧化层和露出的硅。

### 掺杂

掺杂(Doping)是使用化学品改变裸露出的硅的性质的过程，通常使用高温气体，如磷(Phosphorus)渗透到硅中，改变其电学性质。

![Doping](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129190038.png)

使用上述操作，可以通过

* 覆盖氧化层
* 覆盖光刻胶
* 覆盖电路图案掩膜
* 光照
* 洗去光照到光刻胶
* 洗去暴露出的氧化层
* 掺杂暴露出的硅

这样的步骤，实现在晶圆上刻蚀不同电学性质的图案。

![Doping2](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129190328.png)

### 金属化

进一步的，其上的导线也是使用类似的形式，在覆盖一层金属后，进行光刻，以得到链接不同电学区域的导线。

![Metalization](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129190420.png)

类似的步骤，还可以在硅上制作其他电子元件，如电阻和电容等。

![Small](https://cdn.jsdelivr.net/gh/huchangjun-sjtu/picbed/image/20240129190742.png)

使用光刻的方式，可以将复杂电路刻蚀在硅片上很小的区域，一片硅可以制作许多IC，制作完成后，切割包进微型芯片中。

## 摩尔定律

在1960年代，由于装不下，IC很少超过5个晶体管；在1960年代中期，市场出现超过100个晶体管的IC。Gordon Moore捕捉到了趋势：每两年左右，由于技术进步，同样大小空间可以塞入两倍数量晶体管，称为摩尔定律。

**价格** 同时，芯片的价格也急剧下降，从1962年的平均50美元，到1968年2美元，到如今几美分。
**能耗** 芯片越小，控制电路移动电荷越少，耗电量越低。
**延迟** 芯片越小越紧凑，信号路径越短，时钟延迟越小。

## 英特尔

在1968年，Robert Noyce和Gordon Moore联手成立了Intel。在1971年发布了第一个使用IC制作的微型处理器Intel 4004 CPU，是重要里程碑，包含有2300个晶体管。微处理器(Microprocessor)的出现，使跨入了“计算3.0时代”。

## 发展与问题

从Intel 4004 CPU开始，微处理器产生了爆炸式的发展：

* 到1980年，CPU达到3万晶体管；
* 到1990年，CPU包含100万晶体管；
* 到2000年，CPU包含3000万晶体管；
* 到2010年，CPU包含10亿晶体管。

为了达到这种密度，光刻机的分辨率达到10000纳米，约头发丝直径的1/10，如今()可达到14纳米，比血红细胞小400倍。除了CPU，其他电子器件：内存，显卡，硬盘，摄像头传感器等元件都在飞速发展。如IPhone 7的A10 CPU（1cmx1cm）包含33亿个晶体管。

在1970年代开始，使用超大规模集成软件(Very-Large-Scale-Integretion，VLSI)，来自动生成芯片设计，使用逻辑综合(Logic Synthesis)等技术，可以放置整个高级组件，自动生成电路设计。

### 发展问题

* 使用光掩膜投影电路到晶圆上，由于光波长的限制，分辨率已到达极限；目前在研制波长更小的光源，提高分辨率。
* 量子隧穿效应(Quantum Tunneling)：当晶体管非常小，电极之间只距离几个原子，电子会跳过间隙，导致漏电。
